# Staking æ—¶é—´æ§åˆ¶æµ‹è¯•å·¥å…· - å‰ç«¯å¼€å‘éœ€æ±‚æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

### èƒŒæ™¯
Staking åˆçº¦å·²å‡çº§æ”¯æŒæµ‹è¯•æ¨¡å¼ï¼Œå¯ä»¥æ§åˆ¶æ—¶é—´æµé€ä»¥ä¾¿å¿«é€Ÿæµ‹è¯•ã€‚ä½†ç›®å‰åªèƒ½é€šè¿‡å‘½ä»¤è¡Œæ“ä½œï¼Œå¯¹éæŠ€æœ¯æµ‹è¯•äººå‘˜ä¸å‹å¥½ã€‚

### ç›®æ ‡
å¼€å‘ä¸€ä¸ª Web ç«¯æµ‹è¯•å·¥å…·ï¼Œæµ‹è¯•äººå‘˜åªéœ€è¿æ¥é’±åŒ…ã€ç‚¹å‡»æŒ‰é’®å³å¯å®Œæˆæ‰€æœ‰æµ‹è¯•æ“ä½œï¼Œæ— éœ€ä½¿ç”¨å‘½ä»¤è¡Œã€‚

### ç›®æ ‡ç”¨æˆ·
- æµ‹è¯•äººå‘˜ï¼ˆéæŠ€æœ¯èƒŒæ™¯ï¼‰
- äº§å“ç»ç†
- é¡¹ç›®æ¼”ç¤º

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½éœ€æ±‚

### 1. é’±åŒ…è¿æ¥
**åŠŸèƒ½æè¿°ï¼š**
- æ”¯æŒ MetaMask é’±åŒ…è¿æ¥
- è‡ªåŠ¨æ£€æµ‹ç½‘ç»œï¼ˆSepolia æµ‹è¯•ç½‘ï¼‰
- å¦‚æœä¸åœ¨ Sepolia ç½‘ç»œï¼Œæç¤ºåˆ‡æ¢ç½‘ç»œ
- æ˜¾ç¤ºè¿æ¥çš„é’±åŒ…åœ°å€
- æ˜¾ç¤ºè´¦æˆ·ä½™é¢ï¼ˆSepolia ETHï¼‰

**UI è¦æ±‚ï¼š**
- é¡¶éƒ¨å¯¼èˆªæ æ˜¾ç¤º"è¿æ¥é’±åŒ…"æŒ‰é’®
- è¿æ¥åæ˜¾ç¤ºåœ°å€ï¼ˆç¼©å†™æ ¼å¼ï¼š0x1234...5678ï¼‰
- æ˜¾ç¤ºä½™é¢ï¼ˆä¾‹å¦‚ï¼š2.31 ETHï¼‰
- æä¾›"æ–­å¼€è¿æ¥"é€‰é¡¹

**æŠ€æœ¯è¦ç‚¹ï¼š**
```javascript
// è¿æ¥é’±åŒ…
const accounts = await window.ethereum.request({ 
  method: 'eth_requestAccounts' 
});

// æ£€æŸ¥ç½‘ç»œ
const chainId = await window.ethereum.request({ 
  method: 'eth_chainId' 
});
// Sepolia chainId: 0xaa36a7 (11155111)

// åˆ‡æ¢ç½‘ç»œ
await window.ethereum.request({
  method: 'wallet_switchEthereumChain',
  params: [{ chainId: '0xaa36a7' }],
});
```

**åˆçº¦åœ°å€ï¼š**
- Staking Proxy: `0x51a07dE2Bd277F0E6412452e3B54982Fc32CA6E5`
- ç½‘ç»œï¼šSepolia (Chain ID: 11155111)

---

### 2. æ—¶é—´çŠ¶æ€æ˜¾ç¤º

**åŠŸèƒ½æè¿°ï¼š**
å®æ—¶æ˜¾ç¤ºå½“å‰åˆçº¦çš„æ—¶é—´çŠ¶æ€

**æ˜¾ç¤ºå†…å®¹ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ—¶é—´çŠ¶æ€                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æµ‹è¯•æ¨¡å¼ï¼š  âœ… å·²å¯ç”¨ / âŒ æœªå¯ç”¨   â”‚
â”‚  æµ‹è¯•æ—¶é—´ï¼š  2024-10-20 10:30:00   â”‚
â”‚  çœŸå®æ—¶é—´ï¼š  2024-10-20 10:00:00   â”‚
â”‚  æ—¶é—´å·®ï¼š    +30 åˆ†é’Ÿ              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åˆçº¦å‡½æ•°è°ƒç”¨ï¼š**
```javascript
// è¯»å–æµ‹è¯•æ¨¡å¼çŠ¶æ€
const testMode = await stakingContract.testMode();

// è¯»å–æµ‹è¯•æ—¶é—´æˆ³
const testTimestamp = await stakingContract.testTimestamp();

// åŒºå—æ—¶é—´
const block = await provider.getBlock('latest');
const blockTimestamp = block.timestamp;
```

---

### 3. æµ‹è¯•æ¨¡å¼æ§åˆ¶

#### 3.1 å¯ç”¨æµ‹è¯•æ¨¡å¼

**UI è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å¯ç”¨æµ‹è¯•æ¨¡å¼                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–¡ ä½¿ç”¨å½“å‰æ—¶é—´               â”‚
â”‚  â–¡ è‡ªå®šä¹‰èµ·å§‹æ—¶é—´             â”‚
â”‚     [æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨]           â”‚
â”‚                               â”‚
â”‚  [  å¯ç”¨æµ‹è¯•æ¨¡å¼  ]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åˆçº¦å‡½æ•°ï¼š**
```javascript
// å¯ç”¨æµ‹è¯•æ¨¡å¼ï¼ˆä½¿ç”¨å½“å‰æ—¶é—´ï¼‰
await stakingContract.enableTestMode(0);

// å¯ç”¨æµ‹è¯•æ¨¡å¼ï¼ˆè‡ªå®šä¹‰æ—¶é—´ï¼‰
const timestamp = Math.floor(new Date('2024-10-20').getTime() / 1000);
await stakingContract.enableTestMode(timestamp);
```

#### 3.2 ç¦ç”¨æµ‹è¯•æ¨¡å¼

**UI è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸  ç¦ç”¨æµ‹è¯•æ¨¡å¼             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç¦ç”¨åå°†æ¢å¤ä½¿ç”¨çœŸå®æ—¶é—´      â”‚
â”‚  æ‰€æœ‰æµ‹è¯•æ—¶é—´è®¾ç½®å°†è¢«æ¸…é™¤      â”‚
â”‚                               â”‚
â”‚  [  ç¡®è®¤ç¦ç”¨  ]  [  å–æ¶ˆ  ]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åˆçº¦å‡½æ•°ï¼š**
```javascript
await stakingContract.disableTestMode();
```

---

### 4. æ—¶é—´å¿«è¿›åŠŸèƒ½

**UI è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ—¶é—´å¿«è¿›                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¿«æ·æ“ä½œï¼š                         â”‚
â”‚  [  +1 åˆ†é’Ÿ  ]  [  +30 åˆ†é’Ÿ  ]    â”‚
â”‚  [  +60 åˆ†é’Ÿ ]  [  +90 åˆ†é’Ÿ  ]    â”‚
â”‚  [  +180 åˆ†é’Ÿ]                     â”‚
â”‚                                    â”‚
â”‚  è‡ªå®šä¹‰å¿«è¿›ï¼š                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  [_60_] â”‚ åˆ†é’Ÿ â–¼   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚  å•ä½é€‰é¡¹ï¼šåˆ†é’Ÿ / å°æ—¶ / å¤©         â”‚
â”‚                                    â”‚
â”‚  [  ç¡®è®¤å¿«è¿›  ]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åˆçº¦å‡½æ•°ï¼š**
```javascript
// å¿«è¿›åˆ†é’Ÿ
await stakingContract.fastForwardMinutes(minutes);

// å¿«è¿›å¤©æ•°
await stakingContract.fastForwardDays(days);

// å¿«è¿›ç§’æ•°
await stakingContract.fastForwardTime(seconds);
```

---

### 5. æµ‹è¯•åœºæ™¯é¢„è®¾

**åŠŸèƒ½æè¿°ï¼š**
æä¾›é¢„è®¾çš„æµ‹è¯•åœºæ™¯ï¼Œä¸€é”®æ‰§è¡Œå¸¸è§æµ‹è¯•æµç¨‹

**UI è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æµ‹è¯•åœºæ™¯                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åœºæ™¯ 1: SSS çº§ NFT è¡°å‡æµ‹è¯•           â”‚
â”‚  è¯´æ˜ï¼šæµ‹è¯• 180 å¤©å®Œæ•´è¡°å‡å‘¨æœŸ          â”‚
â”‚  æ“ä½œï¼šå¯ç”¨æµ‹è¯•æ¨¡å¼ â†’ å¿«è¿›180åˆ†é’Ÿ      â”‚
â”‚  [  å¼€å§‹æµ‹è¯•  ]                         â”‚
â”‚                                        â”‚
â”‚  åœºæ™¯ 2: æŒç»­è´¨æŠ¼å¥–åŠ±æµ‹è¯• (30å¤©)       â”‚
â”‚  è¯´æ˜ï¼šæµ‹è¯• 30 å¤©æŒç»­è´¨æŠ¼ 10% å¥–åŠ±     â”‚
â”‚  æ“ä½œï¼šå¯ç”¨æµ‹è¯•æ¨¡å¼ â†’ å¿«è¿›30åˆ†é’Ÿ       â”‚
â”‚  [  å¼€å§‹æµ‹è¯•  ]                         â”‚
â”‚                                        â”‚
â”‚  åœºæ™¯ 3: æŒç»­è´¨æŠ¼å¥–åŠ±æµ‹è¯• (90å¤©)       â”‚
â”‚  è¯´æ˜ï¼šæµ‹è¯• 90 å¤©æŒç»­è´¨æŠ¼ 20% å¥–åŠ±     â”‚
â”‚  æ“ä½œï¼šå¯ç”¨æµ‹è¯•æ¨¡å¼ â†’ å¿«è¿›90åˆ†é’Ÿ       â”‚
â”‚  [  å¼€å§‹æµ‹è¯•  ]                         â”‚
â”‚                                        â”‚
â”‚  åœºæ™¯ 4: ç»„åˆå¥–åŠ±æ¬¡æ—¥ç”Ÿæ•ˆæµ‹è¯•          â”‚
â”‚  è¯´æ˜ï¼šæµ‹è¯• 3 NFT ç»„åˆæ¬¡æ—¥ç”Ÿæ•ˆæœºåˆ¶     â”‚
â”‚  æ“ä½œï¼šå¯ç”¨æµ‹è¯•æ¨¡å¼ â†’ å¿«è¿›1åˆ†é’Ÿï¼ˆå¤šæ¬¡ï¼‰ â”‚
â”‚  [  å¼€å§‹æµ‹è¯•  ]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®ç°é€»è¾‘ï¼š**
```javascript
// åœºæ™¯æ‰§è¡Œç¤ºä¾‹
async function runScenario1() {
  // 1. æ£€æŸ¥æµ‹è¯•æ¨¡å¼
  const testMode = await stakingContract.testMode();
  if (!testMode) {
    await stakingContract.enableTestMode(0);
    await waitForConfirmation();
  }
  
  // 2. å¿«è¿›æ—¶é—´
  await stakingContract.fastForwardMinutes(180);
  await waitForConfirmation();
  
  // 3. æ˜¾ç¤ºå®Œæˆæç¤º
  showSuccess('åœºæ™¯æµ‹è¯•å®Œæˆï¼ç°åœ¨å¯ä»¥æŸ¥çœ‹ NFT å¥–åŠ±ã€‚');
}
```

---

### 6. æ“ä½œå†å²è®°å½•

**åŠŸèƒ½æè¿°ï¼š**
æ˜¾ç¤ºæ‰€æœ‰æ“ä½œè®°å½•ï¼Œæ–¹ä¾¿è¿½è¸ªæµ‹è¯•æµç¨‹

**UI è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ“ä½œå†å²                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… 2024-10-20 10:35:20               â”‚
â”‚     å¯ç”¨æµ‹è¯•æ¨¡å¼                        â”‚
â”‚     äº¤æ˜“: 0x1234...5678                â”‚
â”‚                                        â”‚
â”‚  âœ… 2024-10-20 10:36:45               â”‚
â”‚     å¿«è¿› 60 åˆ†é’Ÿ                       â”‚
â”‚     äº¤æ˜“: 0xabcd...ef12                â”‚
â”‚                                        â”‚
â”‚  âœ… 2024-10-20 10:38:12               â”‚
â”‚     å¿«è¿› 60 åˆ†é’Ÿ                       â”‚
â”‚     äº¤æ˜“: 0x9876...5432                â”‚
â”‚                                        â”‚
â”‚  [  æ¸…ç©ºå†å²  ]  [  å¯¼å‡ºæ—¥å¿—  ]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ•°æ®ç»“æ„ï¼š**
```javascript
interface OperationRecord {
  timestamp: number;
  action: string;
  txHash: string;
  status: 'success' | 'pending' | 'failed';
  details?: string;
}
```

---

### 7. æƒé™æ£€æŸ¥

**åŠŸèƒ½æè¿°ï¼š**
è‡ªåŠ¨æ£€æŸ¥å½“å‰é’±åŒ…æ˜¯å¦æœ‰æƒé™æ“ä½œæµ‹è¯•æ¨¡å¼

**æ£€æŸ¥å†…å®¹ï¼š**
```javascript
// æ£€æŸ¥æ˜¯å¦ä¸º owner
const owner = await stakingContract.owner();
const currentAccount = accounts[0];
const isOwner = owner.toLowerCase() === currentAccount.toLowerCase();

if (!isOwner) {
  // æ˜¾ç¤ºè­¦å‘Š
  alert(`
    âš ï¸ æƒé™ä¸è¶³
    
    å½“å‰è´¦æˆ·ï¼š${currentAccount}
    åˆçº¦ Ownerï¼š${owner}
    
    åªæœ‰åˆçº¦ owner å¯ä»¥æ§åˆ¶æµ‹è¯•æ¨¡å¼ã€‚
    è¯·åˆ‡æ¢åˆ°æ­£ç¡®çš„é’±åŒ…è´¦æˆ·ã€‚
  `);
}
```

---

## ğŸ¨ UI/UX è®¾è®¡è¦æ±‚

### æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ• Staking æ—¶é—´æ§åˆ¶æµ‹è¯•å·¥å…·                   â”‚
â”‚                           [è¿æ¥é’±åŒ…] [0x12..34]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   æ—¶é—´çŠ¶æ€       â”‚  â”‚   å¿«é€Ÿæ“ä½œ         â”‚ â”‚
â”‚  â”‚  æµ‹è¯•æ¨¡å¼: âœ…   â”‚  â”‚  [å¯ç”¨æµ‹è¯•æ¨¡å¼]    â”‚ â”‚
â”‚  â”‚  æµ‹è¯•æ—¶é—´: ...  â”‚  â”‚  [ç¦ç”¨æµ‹è¯•æ¨¡å¼]    â”‚ â”‚
â”‚  â”‚  çœŸå®æ—¶é—´: ...  â”‚  â”‚  [å¿«è¿›æ—¶é—´]       â”‚ â”‚
â”‚  â”‚  æ—¶é—´å·®: ...    â”‚  â”‚                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   æ—¶é—´å¿«è¿›                            â”‚   â”‚
â”‚  â”‚  [+1åˆ†] [+30åˆ†] [+60åˆ†] [+90åˆ†]      â”‚   â”‚
â”‚  â”‚  è‡ªå®šä¹‰: [___] [åˆ†é’Ÿâ–¼] [ç¡®è®¤]        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   æµ‹è¯•åœºæ™¯                            â”‚   â”‚
â”‚  â”‚  â–¡ SSSçº§è¡°å‡æµ‹è¯• (180åˆ†é’Ÿ)           â”‚   â”‚
â”‚  â”‚  â–¡ æŒç»­è´¨æŠ¼30å¤©æµ‹è¯•                  â”‚   â”‚
â”‚  â”‚  â–¡ æŒç»­è´¨æŠ¼90å¤©æµ‹è¯•                  â”‚   â”‚
â”‚  â”‚  â–¡ ç»„åˆå¥–åŠ±æµ‹è¯•                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   æ“ä½œå†å²                            â”‚   â”‚
â”‚  â”‚  âœ… 10:35:20 å¯ç”¨æµ‹è¯•æ¨¡å¼            â”‚   â”‚
â”‚  â”‚  âœ… 10:36:45 å¿«è¿› 60 åˆ†é’Ÿ            â”‚   â”‚
â”‚  â”‚  ...                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### äº¤äº’åé¦ˆ

1. **Loading çŠ¶æ€**
   - æ˜¾ç¤ºäº¤æ˜“ç¡®è®¤ç­‰å¾…æç¤º
   - æ˜¾ç¤ºäº¤æ˜“å“ˆå¸Œé“¾æ¥ï¼ˆEtherscanï¼‰
   - é¢„ä¼°å®Œæˆæ—¶é—´

2. **æˆåŠŸæç¤º**
   ```
   âœ… æ“ä½œæˆåŠŸï¼
   
   å¿«è¿› 60 åˆ†é’Ÿå®Œæˆ
   äº¤æ˜“å“ˆå¸Œ: 0x1234...5678
   Gas ä½¿ç”¨: 45,123
   
   [æŸ¥çœ‹äº¤æ˜“] [ç»§ç»­æµ‹è¯•]
   ```

3. **é”™è¯¯å¤„ç†**
   ```
   âŒ æ“ä½œå¤±è´¥
   
   é”™è¯¯åŸå› : æƒé™ä¸è¶³
   
   å»ºè®®:
   1. ç¡®è®¤ä½ æ˜¯åˆçº¦ owner
   2. æ£€æŸ¥é’±åŒ…ä½™é¢æ˜¯å¦è¶³å¤Ÿ
   3. æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
   
   [é‡è¯•] [æŸ¥çœ‹å¸®åŠ©]
   ```

---

## ğŸ”§ æŠ€æœ¯å®ç°è¦æ±‚

### æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**: React / Vue / Next.jsï¼ˆä»»é€‰ï¼‰
- **Web3 åº“**: ethers.js v6 æˆ– viem
- **é’±åŒ…è¿æ¥**: wagmi / RainbowKit / ConnectKit
- **UI ç»„ä»¶åº“**: Ant Design / Material-UI / Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: React Context / Zustand / Recoil

### åˆçº¦äº¤äº’

**Staking åˆçº¦ ABIï¼ˆéœ€è¦çš„å‡½æ•°ï¼‰ï¼š**
```javascript
const stakingABI = [
  "function testMode() view returns (bool)",
  "function testTimestamp() view returns (uint256)",
  "function owner() view returns (address)",
  "function enableTestMode(uint256 initialTimestamp) external",
  "function disableTestMode() external",
  "function fastForwardTime(uint256 seconds_) external",
  "function fastForwardMinutes(uint256 minutes_) external",
  "function fastForwardDays(uint256 days_) external",
  "function setTestTimestamp(uint256 timestamp) external"
];

const stakingAddress = "0x51a07dE2Bd277F0E6412452e3B54982Fc32CA6E5";
const chainId = 11155111; // Sepolia
```

**åˆå§‹åŒ–åˆçº¦ï¼š**
```javascript
import { ethers } from 'ethers';

const provider = new ethers.BrowserProvider(window.ethereum);
const signer = await provider.getSigner();
const stakingContract = new ethers.Contract(
  stakingAddress,
  stakingABI,
  signer
);
```

### äº¤æ˜“ç¡®è®¤æµç¨‹

```javascript
async function executeTransaction(txPromise, actionName) {
  try {
    // 1. å‘é€äº¤æ˜“
    showLoading(`æ­£åœ¨å‘é€äº¤æ˜“: ${actionName}...`);
    const tx = await txPromise;
    
    // 2. ç­‰å¾…ç¡®è®¤
    showLoading(`ç­‰å¾…äº¤æ˜“ç¡®è®¤... (${tx.hash})`);
    const receipt = await tx.wait();
    
    // 3. æ˜¾ç¤ºæˆåŠŸ
    showSuccess({
      action: actionName,
      txHash: receipt.hash,
      gasUsed: receipt.gasUsed.toString(),
    });
    
    // 4. åˆ·æ–°çŠ¶æ€
    await refreshStatus();
    
    // 5. è®°å½•å†å²
    addToHistory({
      timestamp: Date.now(),
      action: actionName,
      txHash: receipt.hash,
      status: 'success',
    });
    
  } catch (error) {
    // å¤„ç†é”™è¯¯
    handleError(error, actionName);
  }
}
```

### é”™è¯¯å¤„ç†

```javascript
function handleError(error, actionName) {
  let message = 'æœªçŸ¥é”™è¯¯';
  let suggestion = 'è¯·é‡è¯•æˆ–è”ç³»æŠ€æœ¯æ”¯æŒ';
  
  if (error.code === 'ACTION_REJECTED') {
    message = 'ç”¨æˆ·å–æ¶ˆäº†äº¤æ˜“';
    suggestion = 'å¦‚éœ€ç»§ç»­ï¼Œè¯·é‡æ–°æ“ä½œ';
  } else if (error.code === 'INSUFFICIENT_FUNDS') {
    message = 'ETH ä½™é¢ä¸è¶³';
    suggestion = 'è¯·ä»æ°´é¾™å¤´è·å–æµ‹è¯• ETH';
  } else if (error.message.includes('Not in test mode')) {
    message = 'æµ‹è¯•æ¨¡å¼æœªå¯ç”¨';
    suggestion = 'è¯·å…ˆå¯ç”¨æµ‹è¯•æ¨¡å¼';
  } else if (error.message.includes('Not authorized')) {
    message = 'æƒé™ä¸è¶³';
    suggestion = 'åªæœ‰åˆçº¦ owner å¯ä»¥æ“ä½œ';
  }
  
  showError({
    action: actionName,
    message,
    suggestion,
    error: error.message,
  });
}
```

---

## ğŸ“± å“åº”å¼è®¾è®¡

### æ¡Œé¢ç«¯ï¼ˆâ‰¥1024pxï¼‰
- ä¸‰æ å¸ƒå±€ï¼šå·¦ä¾§çŠ¶æ€ã€ä¸­é—´æ“ä½œã€å³ä¾§å†å²
- å®½åº¦å›ºå®šï¼Œå±…ä¸­æ˜¾ç¤º
- æœ€å¤§å®½åº¦ï¼š1200px

### å¹³æ¿ç«¯ï¼ˆ768px - 1023pxï¼‰
- ä¸¤æ å¸ƒå±€ï¼šä¸Šæ–¹çŠ¶æ€å’Œæ“ä½œã€ä¸‹æ–¹å†å²
- è‡ªé€‚åº”å®½åº¦

### ç§»åŠ¨ç«¯ï¼ˆ<768pxï¼‰
- å•æ å¸ƒå±€ï¼Œçºµå‘æ’åˆ—
- æ“ä½œæŒ‰é’®å…¨å®½
- å†å²è®°å½•å¯æŠ˜å 

---

## ğŸ” å®‰å…¨è€ƒè™‘

### 1. ç½‘ç»œæ£€æŸ¥
```javascript
// å§‹ç»ˆç¡®è®¤åœ¨ Sepolia ç½‘ç»œ
const network = await provider.getNetwork();
if (network.chainId !== 11155111n) {
  throw new Error('è¯·åˆ‡æ¢åˆ° Sepolia æµ‹è¯•ç½‘');
}
```

### 2. æƒé™éªŒè¯
```javascript
// æ¯æ¬¡æ“ä½œå‰éªŒè¯æƒé™
const owner = await stakingContract.owner();
const signer = await provider.getSigner();
const signerAddress = await signer.getAddress();

if (owner.toLowerCase() !== signerAddress.toLowerCase()) {
  throw new Error('åªæœ‰åˆçº¦ owner å¯ä»¥æ‰§è¡Œæ­¤æ“ä½œ');
}
```

### 3. äº¤æ˜“ç¡®è®¤
```javascript
// é‡è¦æ“ä½œäºŒæ¬¡ç¡®è®¤
const confirmed = await confirm(`
  ç¡®è®¤è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œå—ï¼Ÿ
  
  æ“ä½œ: ${actionName}
  é¢„ä¼° Gas: ${estimatedGas}
  
  ç‚¹å‡»ç¡®å®šç»§ç»­
`);

if (!confirmed) {
  return;
}
```

---

## ğŸ“Š æ•°æ®æŒä¹…åŒ–

### LocalStorage ç»“æ„
```javascript
{
  "operationHistory": [
    {
      "timestamp": 1697800000000,
      "action": "å¯ç”¨æµ‹è¯•æ¨¡å¼",
      "txHash": "0x1234...",
      "status": "success"
    }
  ],
  "lastConnectedWallet": "0x1234...5678",
  "userPreferences": {
    "autoRefresh": true,
    "refreshInterval": 30000
  }
}
```

---

## ğŸ§ª æµ‹è¯•è¦æ±‚

### åŠŸèƒ½æµ‹è¯•
- [ ] é’±åŒ…è¿æ¥/æ–­å¼€
- [ ] ç½‘ç»œåˆ‡æ¢æ£€æµ‹
- [ ] å¯ç”¨/ç¦ç”¨æµ‹è¯•æ¨¡å¼
- [ ] æ—¶é—´å¿«è¿›åŠŸèƒ½
- [ ] é¢„è®¾åœºæ™¯æ‰§è¡Œ
- [ ] æƒé™æ£€æŸ¥
- [ ] é”™è¯¯å¤„ç†

### å…¼å®¹æ€§æµ‹è¯•
- [ ] Chrome (æœ€æ–°ç‰ˆ)
- [ ] Firefox (æœ€æ–°ç‰ˆ)
- [ ] Safari (æœ€æ–°ç‰ˆ)
- [ ] Edge (æœ€æ–°ç‰ˆ)
- [ ] MetaMask (æœ€æ–°ç‰ˆ)

---

## ğŸ“¦ äº¤ä»˜ç‰©

### 1. ä»£ç ä»“åº“
- å®Œæ•´æºä»£ç 
- README è¯´æ˜æ–‡æ¡£
- ç¯å¢ƒé…ç½®ç¤ºä¾‹

### 2. éƒ¨ç½²ç‰ˆæœ¬
- Vercel / Netlify éƒ¨ç½²é“¾æ¥
- æ”¯æŒç›´æ¥è®¿é—®ä½¿ç”¨

### 3. ä½¿ç”¨æ–‡æ¡£
- ç”¨æˆ·æ“ä½œæ‰‹å†Œ
- å¸¸è§é—®é¢˜è§£ç­”
- è§†é¢‘æ¼”ç¤ºï¼ˆå¯é€‰ï¼‰

---

## ğŸ¯ å¼€å‘ä¼˜å…ˆçº§

### P0 (å¿…é¡»)
1. é’±åŒ…è¿æ¥
2. æ—¶é—´çŠ¶æ€æ˜¾ç¤º
3. å¯ç”¨/ç¦ç”¨æµ‹è¯•æ¨¡å¼
4. åŸºæœ¬æ—¶é—´å¿«è¿›åŠŸèƒ½

### P1 (é‡è¦)
5. å¿«æ·æ—¶é—´æŒ‰é’®
6. æƒé™æ£€æŸ¥
7. äº¤æ˜“çŠ¶æ€æ˜¾ç¤º
8. åŸºç¡€é”™è¯¯å¤„ç†

### P2 (å¯é€‰)
9. æµ‹è¯•åœºæ™¯é¢„è®¾
10. æ“ä½œå†å²è®°å½•
11. æ•°æ®å¯¼å‡ºåŠŸèƒ½
12. è‡ªå®šä¹‰ä¸»é¢˜

---

## ğŸ’¡ å‚è€ƒèµ„æº

### åˆçº¦ä¿¡æ¯
- Staking Proxy: `0x51a07dE2Bd277F0E6412452e3B54982Fc32CA6E5`
- Network: Sepolia (Chain ID: 11155111)
- RPC URL: é…ç½®åœ¨ `.env.sepolia`

### ç›¸å…³æ–‡æ¡£
- `docs/Staking-Test-Mode-Guide.md` - åŠŸèƒ½è¯´æ˜
- `TIME_CONTROL_SUMMARY.md` - åŠŸèƒ½æ€»ç»“
- `contracts/CPNFT/Staking.sol` - åˆçº¦æºç 

### Web3 èµ„æº
- ethers.js: https://docs.ethers.org/
- wagmi: https://wagmi.sh/
- RainbowKit: https://www.rainbowkit.com/
- Sepolia Faucet: https://sepoliafaucet.com/

---

## â“ FAQ

### Q1: ä¸ºä»€ä¹ˆé€‰æ‹© Sepolia è€Œä¸æ˜¯å…¶ä»–æµ‹è¯•ç½‘ï¼Ÿ
A: Sepolia æ˜¯ç›®å‰æ¨èçš„é•¿æœŸä»¥å¤ªåŠæµ‹è¯•ç½‘ï¼Œç¨³å®šä¸”æœ‰å……è¶³çš„æ°´é¾™å¤´èµ„æºã€‚

### Q2: éœ€è¦æ”¯æŒå…¶ä»–é’±åŒ…å—ï¼Ÿ
A: åˆæœŸåªéœ€æ”¯æŒ MetaMaskï¼Œåç»­å¯æ‰©å±•æ”¯æŒ WalletConnectã€‚

### Q3: æµ‹è¯•å·¥å…·éœ€è¦åç«¯å—ï¼Ÿ
A: ä¸éœ€è¦ã€‚æ‰€æœ‰æ“ä½œç›´æ¥ä¸åŒºå—é“¾äº¤äº’ï¼Œçº¯å‰ç«¯å³å¯ã€‚

### Q4: å¦‚ä½•å¤„ç† Gas è´¹ç”¨ï¼Ÿ
A: è¿™æ˜¯æµ‹è¯•ç½‘ï¼ŒGas è´¹ç”¨ä½¿ç”¨æµ‹è¯• ETHï¼Œä»æ°´é¾™å¤´å…è´¹è·å–ã€‚

### Q5: å·¥å…·éœ€è¦è®¤è¯å—ï¼Ÿ
A: ä¸éœ€è¦ã€‚åªè¦æ˜¯åˆçº¦ owner çš„é’±åŒ…åœ°å€å³å¯æ“ä½œã€‚

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰æŠ€æœ¯é—®é¢˜ï¼Œè¯·è”ç³»ï¼š
- æŠ€æœ¯è´Ÿè´£äººï¼š[å¡«å†™è”ç³»æ–¹å¼]
- GitHub Issuesï¼š[ä»“åº“åœ°å€]
- æ–‡æ¡£åé¦ˆï¼š[åé¦ˆæ¸ é“]

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0
**æœ€åæ›´æ–°ï¼š** 2024-10-20
**çŠ¶æ€ï¼š** âœ… Ready for Development

